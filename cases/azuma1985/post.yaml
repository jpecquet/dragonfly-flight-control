version: 1

# Declarative postprocessing config for azuma1985.
# Consumed by `python -m scripts.docs_media_runner`.

simulation:
  driver: yaml_case
  case_file: cases/azuma1985/case.yaml
  run_dir: docs/validation/azuma1985/artifacts
  binary: build/bin/dragonfly

docs_media:
  media_dir: docs/_static/media/azuma1985
  render_config: docs/validation/azuma1985/render_config.dark.json
  themes: [light, dark]
  frame_step: 3

artifacts:
  - kind: case_fore_hind_kinematics
    source_case_file: cases/azuma1985/case.yaml
    output: kinematics.{theme}.png
    angle_keys: [phi, psi]
    layout: horizontal

  - kind: wing_aoa_timeseries
    input_h5: "{run_dir}/output.h5"
    source_case_file: cases/azuma1985/case.yaml
    csv_path: cases/azuma1985/paper_data.csv
    output: angle_of_attack_model.{theme}.png
    wing_names: [fore_right, hind_right]
    eta: 0.75
    curve_variant: model

  - kind: wing_aoa_timeseries
    input_h5: "{run_dir}/output.h5"
    source_case_file: cases/azuma1985/case.yaml
    csv_path: cases/azuma1985/paper_data.csv
    output: angle_of_attack_simplified.{theme}.png
    wing_names: [fore_right, hind_right]
    eta: 0.75
    curve_variant: simplified

  - kind: wing_force_components_timeseries
    input_h5: "{run_dir}/output.h5"
    source_case_file: cases/azuma1985/case.yaml
    csv_path: cases/azuma1985/paper_data.csv
    output: force_components.{theme}.png
    last_n_wingbeats: 1

  - kind: simulation_video
    input_h5: "{run_dir}/output.h5"
    output: simulation.{theme}.mp4
    last_n_wingbeats: 1

  - kind: stick_video
    input_h5: "{run_dir}/output.h5"
    output: stick.{theme}.mp4
    stations: [0.6666667]
